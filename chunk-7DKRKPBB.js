import{a as ee,b as te,c as ne}from"./chunk-MUQNOUKZ.js";import{a as Z}from"./chunk-3UN3RL46.js";import"./chunk-WIUYRXXV.js";import{e as Y}from"./chunk-O3BENMIO.js";import{Ab as q,Bb as z,Ca as j,Lb as G,Mb as J,Na as V,Nb as W,Oa as B,Ob as X,Pa as M,Qa as N,R as D,Ra as v,Sa as S,Ta as g,Ua as s,Va as o,W as d,Wa as y,X as x,Xa as H,Y as P,Ya as A,Za as K,_a as h,ab as f,cb as b,e as T,gb as U,i as C,jb as c,kb as _,mb as w,nb as E,ob as L,pa as O,qb as Q,ra as a,rb as R,sb as l,tb as m,za as u}from"./chunk-E5YAWDRL.js";var k=class n{transform(t){return t.toLocaleLowerCase()==="cryptocurrency"?`<b class="badge badge-dash badge-warning bg-warning text-warning-content">${t}</b>`:t}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=j({name:"category",type:n,pure:!0})};var $=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["expense-list-icon-search"]],decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"h-[1em]","opacity-50"],["stroke-linejoin","round","stroke-linecap","round","stroke-width","2.5","fill","none","stroke","currentColor"],["cx","11","cy","11","r","8"],["d","m21 21-4.3-4.3"]],template:function(e,i){e&1&&(P(),H(0,"svg",0)(1,"g",1),K(2,"circle",2)(3,"path",3),A()())},encapsulation:2})};var I=class n{searchChange=q();caseSensitive=z(!0);onSearchUpdate(t){this.caseSensitive()?this.searchChange.emit(t):this.searchChange.emit(t.toLowerCase().replace(/\s/g,""))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["list-search"]],inputs:{caseSensitive:[1,"caseSensitive"]},outputs:{searchChange:"searchChange"},decls:5,vars:0,consts:[["searchbar",""],["for","searchbar",1,"flex","items-center","w-full","h-[38px]","overflow-hidden","border","rounded-md","text-center","group"],["type","text","placeholder","Type any description to filter","aria-label","Search input",1,"w-[95%]","h-full","border-none","text-center","focus:outline-none",3,"input"],[1,"w-[50px]","h-full","flex","items-center","justify-center","group-hover:bg-info","select-none"]],template:function(e,i){if(e&1){let r=h();s(0,"label",1)(1,"input",2,0),f("input",function(){d(r);let re=U(2);return x(i.onSearchUpdate(re.value))}),o(),s(3,"p",3),y(4,"expense-list-icon-search"),o()()}},dependencies:[$],encapsulation:2})};var se=()=>["/add"],ae=n=>({id:n}),ce=(n,t)=>t.id;function pe(n,t){if(n&1){let e=h();s(0,"list-search",8),f("searchChange",function(r){d(e);let p=b(2);return x(p.onSearchUpdate(r))}),o()}n&2&&g("caseSensitive",!1)}function le(n,t){if(n&1&&(s(0,"th",13),c(1),o()),n&2){let e=t.$implicit;a(),_(e)}}function me(n,t){if(n&1){let e=h();s(0,"tr")(1,"td",13),c(2),o(),y(3,"td",14)(4,"td",15),l(5,"titlecase"),l(6,"category"),s(7,"td",13),c(8),l(9,"date"),o(),s(10,"td")(11,"button",16),f("click",function(){let r=d(e).$implicit,p=b(3);return x(p.deleteExpense(r.id))}),c(12,"Delete"),o()(),s(13,"td")(14,"a",17),c(15,"Edit"),o()()()}if(n&2){let e=t.$implicit;a(2),_(e.description),a(),g("limitImport",500)("amountImport",e.import),a(),g("innerHTML",m(6,9,m(5,7,e.category)),O),a(4),_(m(9,11,e.date)),a(6),g("routerLink",Q(13,se))("queryParams",R(14,ae,e.id))}}function de(n,t){if(n&1&&(s(0,"section",7)(1,"fieldset",9)(2,"legend",10),c(3),l(4,"titlecase"),o(),s(5,"div",11)(6,"table",12)(7,"thead")(8,"tr"),v(9,le,2,1,"th",13,M),o()(),s(11,"tbody"),v(12,me,16,16,"tr",null,ce),o()()()()()),n&2){let e=t.$implicit,i=b(2),r=L(6);a(3),_(m(4,1,e)),a(6),S(i.titleTable),a(3),S(r[e])}}function xe(n,t){if(n&1){let e=h();V(0,pe,1,1,"list-search",5),s(1,"list-switch",6),f("checkboxChange",function(r){d(e);let p=b();return x(p.onCheckboxChange(r))}),o(),v(2,de,14,3,"section",7,N)}if(n&2){b();let e=L(8),i=L(10);B(i!==null&&i.length>1?0:-1),a(2),S(e)}}function ue(n,t){n&1&&(s(0,"section",4)(1,"p",18),c(2,"No expenses found. Click the button above to add your first expense."),o()())}var oe=class n{listService=D(ne);expenseService=D(Z);Object=Object;titleTable=["Description","Amount","Category","Date","",""];expenses$=new T;expensesKey$=new T;searchQuery$=new C("");checkboxValue$=new C(!1);filterFn=(t,e)=>{if(t.length===0)return e;let i=e.filter(r=>r.description.toLowerCase().replace(/\s/g,"").includes(t));return i.length===0?e:i};ngOnInit(){let t=this.expenseService.expenseList$;this.expenses$=this.listService.getExpenses$(t,this.searchQuery$,this.checkboxValue$,this.filterFn);let e=new C([]);this.expenses$.subscribe(i=>{let r=[];Object.keys(i).forEach(p=>{r.push(...i[p])}),e.next(r)}),this.expensesKey$=this.listService.getExpensesKey$(e,this.checkboxValue$)}deleteExpense(t){this.expenseService.deleteItem(t)}onCheckboxChange(t){this.checkboxValue$.next(t)}onSearchUpdate(t){this.searchQuery$.next(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["expense-list"]],decls:14,vars:10,consts:[[1,"max-w-5xl","mx-auto","p-5"],[1,"text-2xl","font-bold","text-center","text-base-content","mb-5"],[1,"flex","justify-end","mb-5"],["routerLink","/add",1,"btn","btn-primary"],[1,"bg-info","text-center","p-8","rounded-lg","opacity-80"],[3,"caseSensitive"],[3,"checkboxChange"],[1,"overflow-x-auto"],[3,"searchChange","caseSensitive"],[1,"rounded-box","border","p-4"],[1,"text-2xl","font-bold","text-base-content","mb-2"],[1,"bg-base-100","table","shadow","w-full","overflow-x-auto","rounded-box","border","border-base-content/20"],[1,"table"],[1,"text-base-content"],["AppHighlightBig","",1,"text-base-content",3,"limitImport","amountImport"],[1,"text-base-content",3,"innerHTML"],[1,"btn","btn-warning","btn-sm","text-warning-content","w-[60px]",3,"click"],[1,"btn","btn-secondary","btn-sm","text-secondary-content","w-[60px]",3,"routerLink","queryParams"],[1,"text-info-content"]],template:function(e,i){if(e&1&&(s(0,"section",0)(1,"h2",1),c(2,"Expense List"),o(),s(3,"section",2)(4,"a",3),c(5,"Add New Expense"),o()(),w(6),l(7,"async"),w(8),l(9,"async"),w(10),l(11,"async"),V(12,xe,4,1)(13,ue,3,0,"section",4),o()),e&2){a(6);let r=E(m(7,1,i.expenses$));a(2),E(m(9,4,i.expensesKey$)),a(2),E(m(11,7,i.expenseService.expenseList$)),a(2),B(r!==null&&i.Object.keys(r).length>0?12:13)}},dependencies:[X,Y,ee,I,te,G,J,W,k],styles:["tr[_ngcontent-%COMP%]:hover:not(thead tr){background-color:var(--color-base-300)}th[_ngcontent-%COMP%]{width:25%}"]})};export{oe as ListComponent};
