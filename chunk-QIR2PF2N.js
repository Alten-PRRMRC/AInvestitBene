import{a as G}from"./chunk-LQY7LG2T.js";import"./chunk-65SCDXB2.js";import{Aa as q,B as b,E as D,L as I,M as F,N as j,O as g,P as f,Q as V,R as s,S as r,T as B,U as h,V as x,W as H,X as v,Y as O,Z as N,_ as u,aa as c,ba as d,d as L,da as w,ea as P,f as k,fa as M,g as S,ia as l,ja as m,ka as A,o as T,oa as K,p as E,q as y,ra as R,sa as X,ua as z,va as U,wa as Y,x as $,y as a}from"./chunk-APVCP6CX.js";var C=class n{transform(e){return e.toLocaleLowerCase()==="cryptocurrency"?`<b class="highlighted-category">${e}</b>`:e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=D({name:"category",type:n,pure:!0})};var _=class n{checkboxChange=K();onCheckboxChange(e){this.checkboxChange.emit(e.target.checked)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=b({type:n,selectors:[["list-switch"]],outputs:{checkboxChange:"checkboxChange"},decls:8,vars:0,consts:[[1,"switch"],["type","checkbox",3,"change"],[1,"slider"]],template:function(t,o){t&1&&(h(0,"section")(1,"p"),c(2,"Monthly"),x(),h(3,"label",0)(4,"input",1),N("change",function(p){return o.onCheckboxChange(p)}),x(),H(5,"span",2),x(),h(6,"p"),c(7,"Annually"),x()())},styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(36px);-ms-transform:translateX(36px);transform:translate(36px)}section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}']})};function Z(n,e){return this.titleTable}var ee=(n,e)=>e.id;function te(n,e){if(n&1&&(s(0,"th"),c(1),r()),n&2){let t=e.$implicit;a(),d(t)}}function ne(n,e){if(n&1){let t=v();s(0,"tr")(1,"td"),c(2),r(),s(3,"td"),c(4),l(5,"currency"),r(),B(6,"td",6),l(7,"titlecase"),l(8,"category"),s(9,"td"),c(10),l(11,"date"),r(),s(12,"td")(13,"button",7),O("click",function(){let i=E(t).$implicit,p=u(3);return y(p.deleteExpense(i.id))}),c(14,"Delete"),r()()()}if(n&2){let t=e.$implicit;a(2),d(t.description),a(2),d(A(5,4,t.import,"EUR")),a(2),V("innerHTML",m(8,9,m(7,7,t.category)),$),a(4),d(m(11,11,t.date))}}function ie(n,e){if(n&1&&(s(0,"h2"),c(1),r(),s(2,"section",5)(3,"table")(4,"thead")(5,"tr"),g(6,te,2,1,"th",null,Z,!0),r()(),s(8,"tbody"),g(9,ne,15,13,"tr",null,ee),r()()()),n&2){let t=e.$implicit,o=u(2),i=M(6);a(),d(t),a(5),f(o.titleTable),a(3),f(i[t])}}function oe(n,e){if(n&1){let t=v();s(0,"list-switch",4),O("checkboxChange",function(i){E(t);let p=u();return y(p.onCheckboxChange(i))}),r(),g(1,ie,11,1,null,null,j)}if(n&2){u();let t=M(8);a(),f(t)}}function re(n,e){n&1&&(s(0,"section",3)(1,"p"),c(2,"No expenses found. Click the button above to add your first expense."),r()())}var Q=class n{expenseService=T(G);Object=Object;checkboxValue$=new L(!1);titleTable=["Description","Amount","Category","Date",""];expenses$;expensesKey$;ngOnInit(){this.expenses$=S([this.expenseService.getItems(),this.checkboxValue$.asObservable()]).pipe(k(([e,t])=>{let o={};for(let i=0;i<e.length;i++){let p=t?e[i].date.getFullYear().toString():e[i].date.toLocaleString("default",{month:"long"});o[p]||(o[p]=[]),o[p].push(e[i])}return o})),this.expensesKey$=this.expenses$.pipe(k(e=>{let t=Object.keys(e);return this.checkboxValue$.value?t.sort((o,i)=>parseInt(o)-parseInt(i)):t.sort()}))}deleteExpense(e){this.expenseService.deleteItem(e)}onCheckboxChange(e){this.checkboxValue$.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=b({type:n,selectors:[["expense-list"]],decls:12,vars:7,consts:[[1,"expense-container"],[1,"add-button-container"],["routerLink","/add",1,"add-button"],[1,"no-expenses"],[3,"checkboxChange"],[1,"expense-list"],[3,"innerHTML"],[1,"delete-button",3,"click"]],template:function(t,o){if(t&1&&(s(0,"section",0)(1,"h2"),c(2,"Expense List"),r(),s(3,"section",1)(4,"a",2),c(5,"Add New Expense"),r()(),w(6),l(7,"async"),w(8),l(9,"async"),I(10,oe,3,0)(11,re,3,0,"section",3),r()),t&2){a(6);let i=P(m(7,1,o.expenses$));a(2),P(m(9,4,o.expensesKey$)),a(2),F(i&&o.Object.keys(i).length>0?10:11)}},dependencies:[Y,q,_,R,X,U,z,C],styles:[".expense-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;text-align:center}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.add-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#4a90e2;color:#fff;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#3a7bc8}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:30px;background-color:#f9f9f9;border-radius:8px;color:#666}.expense-list[_ngcontent-%COMP%]{border:solid 1px #000;border-radius:8px;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:0 2px 4px #0000001a}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700;color:#555}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.delete-button[_ngcontent-%COMP%]{padding:6px 12px;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};export{Q as ListComponent};
