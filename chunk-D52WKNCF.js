import{a as c}from"./chunk-RSSLE5ES.js";import{M as n,Q as a,i as r}from"./chunk-QZ4NMPLC.js";var p=class o{constructor(e){this.localStorageService=e;let s=this.localStorageService.getItem(this.STORAGE_KEY)||[];this.expenseList$=new r(s)}STORAGE_KEY="expenses";expenseList$;ngOnDestroy(){this.localStorageService.clear(),this.expenseList$.complete(),this.expenseList$=new r([])}addItem(e){let t=[...this.expenseList$.getValue(),e];this.expenseList$.next(t),this.saveToLocalStorage(t)}getItems(){return this.expenseList$}updateItem(e){let t=this.expenseList$.getValue().flatMap(i=>i.id===e.id?e:i);this.expenseList$.next(t),this.saveToLocalStorage(t)}deleteItem(e){let t=this.expenseList$.getValue().filter(i=>i.id!==e);this.expenseList$.next(t),this.saveToLocalStorage(t)}saveToLocalStorage(e){this.localStorageService.setItem(this.STORAGE_KEY,e)}static \u0275fac=function(s){return new(s||o)(a(c))};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};export{p as a};
