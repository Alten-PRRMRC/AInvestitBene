import{a as c}from"./chunk-H7C2SGTL.js";import{d as i,j as n,m as a}from"./chunk-7T224UNP.js";var p=class o{constructor(e){this.localStorageService=e;let s=this.localStorageService.getItem(this.STORAGE_KEY)||[];this.expenseList$=new i(s)}STORAGE_KEY="expenses";expenseList$;ngOnDestroy(){this.expenseList$.complete()}addItem(e){let t=[...this.expenseList$.getValue(),e];this.expenseList$.next(t),this.saveToLocalStorage(t)}getItems(){return this.expenseList$.asObservable()}updateItem(e){let t=this.expenseList$.getValue().flatMap(r=>r.id===e.id?e:r);this.expenseList$.next(t),this.saveToLocalStorage(t)}deleteItem(e){let t=this.expenseList$.getValue().filter(r=>r.id!==e);this.expenseList$.next(t),this.saveToLocalStorage(t)}saveToLocalStorage(e){this.localStorageService.setItem(this.STORAGE_KEY,e)}static \u0275fac=function(s){return new(s||o)(a(c))};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})};export{p as a};
