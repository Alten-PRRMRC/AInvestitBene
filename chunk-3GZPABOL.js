import{a as oe}from"./chunk-TDX23PDH.js";import"./chunk-NWZTHWQ7.js";import{$ as J,B as x,Ca as ie,D as U,E as K,L as Q,M as X,N as z,O as y,P as S,Q as w,R as p,S as s,T as Y,U as m,V as d,W as G,X as _,Y as k,Z as M,_ as f,ba as a,ca as b,d as B,ea as j,f as E,fa as F,g as H,ga as A,ja as h,ka as C,la as W,o as v,p as u,pa as O,q as g,qa as L,ta as Z,ua as q,w as N,wa as ee,x as R,xa as te,y as c,ya as ne}from"./chunk-H2BTTMDE.js";var P=class n{transform(t){return t.toLocaleLowerCase()==="cryptocurrency"?`<b class="highlighted-category">${t}</b>`:t}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=K({name:"category",type:n,pure:!0})};var T=class n{checkboxChange=O();onCheckboxChange(t){this.checkboxChange.emit(t.target.checked)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["list-switch"]],outputs:{checkboxChange:"checkboxChange"},decls:8,vars:0,consts:[[1,"switch"],["type","checkbox",3,"change"],[1,"slider"]],template:function(e,i){e&1&&(m(0,"section")(1,"p"),a(2,"Monthly"),d(),m(3,"label",0)(4,"input",1),M("change",function(r){return i.onCheckboxChange(r)}),d(),G(5,"span",2),d(),m(6,"p"),a(7,"Annually"),d()())},styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(36px);-ms-transform:translateX(36px);transform:translate(36px)}section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}']})};var I=class n{searchChange=O();caseSensitive=L(!0);onSearchUpdate(t){this.caseSensitive()?this.searchChange.emit(t):this.searchChange.emit(t.toLowerCase().replace(/\s/g,""))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["list-search"]],inputs:{caseSensitive:[1,"caseSensitive"]},outputs:{searchChange:"searchChange"},decls:6,vars:0,consts:[["searchbar",""],[1,"search-container"],["type","text","placeholder","Type any description",3,"input"],[1,"lens"]],template:function(e,i){if(e&1){let o=_();m(0,"section",1)(1,"input",2,0),M("input",function(){u(o);let l=J(2);return g(i.onSearchUpdate(l.value))}),d(),m(3,"section",3)(4,"p"),a(5,"\u{1F50D}"),d()()()}},styles:["input[_ngcontent-%COMP%]{height:100%;width:95%;border:none;text-align:center}p[_ngcontent-%COMP%]{height:100%;cursor:default}.lens[_ngcontent-%COMP%]{width:50px}.search-container[_ngcontent-%COMP%]:hover > .lens[_ngcontent-%COMP%]{background-color:#4a90e2}input[_ngcontent-%COMP%]:focus{outline:0}.search-container[_ngcontent-%COMP%]{overflow:hidden;display:flex;width:100%;height:38px;border:1px solid #000;border-radius:6px;align-items:center;text-align:center}"]})};var $=class n{import=L(500);el=v(N);ngAfterViewInit(){let t=this.el.nativeElement.innerHTML.charAt(0),e=this.el.nativeElement.innerHTML.substring(1);this.el.nativeElement.innerHTML=Number(e)>this.import()?`<span class="highlighted-category">${t}${e}</span>`:this.el.nativeElement.innerHTML}ngOnDestroy(){this.el.nativeElement.innerHTML=""}static \u0275fac=function(e){return new(e||n)};static \u0275dir=U({type:n,selectors:[["","appAppHighlightBig",""]],inputs:{import:[1,"import"]}})};function ae(n,t){return this.titleTable}var ce=(n,t)=>t.id;function pe(n,t){if(n&1&&(p(0,"th"),a(1),s()),n&2){let e=t.$implicit;c(),b(e)}}function le(n,t){if(n&1){let e=_();p(0,"tr")(1,"td"),a(2),s(),p(3,"td",7),a(4),h(5,"currency"),s(),Y(6,"td",8),h(7,"titlecase"),h(8,"category"),p(9,"td"),a(10),h(11,"date"),s(),p(12,"td")(13,"button",9),k("click",function(){let o=u(e).$implicit,r=f(3);return g(r.deleteExpense(o.id))}),a(14,"Delete"),s()()()}if(n&2){let e=t.$implicit;c(2),b(e.description),c(),w("import",500),c(),b(W(5,5,e.import,"EUR")),c(2),w("innerHTML",C(8,10,C(7,8,e.category)),R),c(4),b(C(11,12,e.date))}}function de(n,t){if(n&1&&(p(0,"h2"),a(1),s(),p(2,"section",6)(3,"table")(4,"thead")(5,"tr"),y(6,pe,2,1,"th",null,ae,!0),s()(),p(8,"tbody"),y(9,le,15,14,"tr",null,ce),s()()()),n&2){let e=t.$implicit,i=f(2),o=A(6);c(),b(e),c(5),S(i.titleTable),c(3),S(o[e])}}function me(n,t){if(n&1){let e=_();p(0,"list-search",4),k("searchChange",function(o){u(e);let r=f();return g(r.onSearchUpdate(o))}),s(),p(1,"list-switch",5),k("checkboxChange",function(o){u(e);let r=f();return g(r.onCheckboxChange(o))}),s(),y(2,de,11,1,null,null,z)}if(n&2){f();let e=A(8);w("caseSensitive",!1),c(2),S(e)}}function he(n,t){n&1&&(p(0,"section",3)(1,"p"),a(2,"No expenses found. Click the button above to add your first expense."),s()())}var se=class n{expenseService=v(oe);Object=Object;checkboxValue$=new B(!1);titleTable=["Description","Amount","Category","Date",""];expenses$;expensesKey$;searchQuery$=new B("");ngOnInit(){let t=this.expenseService.getItems(),e=H([this.searchQuery$,t]).pipe(E(([i,o])=>{if(i.length===0)return o;let r=o.filter(l=>l.description.toLowerCase().replace(/\s/g,"").includes(i));return r.length===0?o:r}));this.expenses$=H([e,this.checkboxValue$]).pipe(E(([i,o])=>{let r={};for(let l=0;l<i.length;l++){let V=o?i[l].date.getFullYear().toString():i[l].date.toLocaleString("default",{month:"long"});r[V]||(r[V]=[]),r[V].push(i[l])}return r})),this.expensesKey$=this.expenses$.pipe(E(i=>{let o=Object.keys(i);return this.checkboxValue$.value?o.sort((r,l)=>parseInt(r)-parseInt(l)):o.sort()}))}deleteExpense(t){this.expenseService.deleteItem(t)}onCheckboxChange(t){this.checkboxValue$.next(t)}onSearchUpdate(t){this.searchQuery$.next(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["expense-list"]],decls:12,vars:7,consts:[[1,"expense-container"],[1,"add-button-container"],["routerLink","/add",1,"add-button"],[1,"no-expenses"],[3,"searchChange","caseSensitive"],[3,"checkboxChange"],[1,"expense-list"],["appAppHighlightBig","",3,"import"],[3,"innerHTML"],[1,"delete-button",3,"click"]],template:function(e,i){if(e&1&&(p(0,"section",0)(1,"h2"),a(2,"Expense List"),s(),p(3,"section",1)(4,"a",2),a(5,"Add New Expense"),s()(),j(6),h(7,"async"),j(8),h(9,"async"),Q(10,me,4,1)(11,he,3,0,"section",3),s()),e&2){c(6);let o=F(C(7,1,i.expenses$));c(2),F(C(9,4,i.expensesKey$)),c(2),X(o&&i.Object.keys(o).length>0?10:11)}},dependencies:[ne,ie,T,I,$,Z,q,te,ee,P],styles:[".expense-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;text-align:center}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.add-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#4a90e2;color:#fff;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#3a7bc8}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:30px;background-color:#f9f9f9;border-radius:8px;color:#666}.expense-list[_ngcontent-%COMP%]{border:solid 1px #000;border-radius:8px;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:0 2px 4px #0000001a}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700;color:#555}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.delete-button[_ngcontent-%COMP%]{padding:6px 12px;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};export{se as ListComponent};
