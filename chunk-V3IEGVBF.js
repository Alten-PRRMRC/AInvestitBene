import{a as ee}from"./chunk-LYMQ3TK7.js";import"./chunk-M2CPH7BW.js";import{$ as X,B as g,Ba as q,E as N,L as H,M as R,N as U,O as k,P as v,Q as A,R as c,S as s,T as K,U as m,V as d,W as Q,X as E,Y as O,Z as w,_ as f,ba as a,ca as b,d as T,ea as $,f as y,fa as I,g as D,ga as V,ja as u,ka as C,la as z,o as j,p as x,pa as P,q as h,sa as Y,ta as G,va as J,wa as W,x as B,xa as Z,y as p}from"./chunk-JCM3KCXB.js";var M=class n{transform(e){return e.toLocaleLowerCase()==="cryptocurrency"?`<b class="highlighted-category">${e}</b>`:e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=N({name:"category",type:n,pure:!0})};var S=class n{checkboxChange=P();onCheckboxChange(e){this.checkboxChange.emit(e.target.checked)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["list-switch"]],outputs:{checkboxChange:"checkboxChange"},decls:8,vars:0,consts:[[1,"switch"],["type","checkbox",3,"change"],[1,"slider"]],template:function(t,i){t&1&&(m(0,"section")(1,"p"),a(2,"Monthly"),d(),m(3,"label",0)(4,"input",1),w("change",function(r){return i.onCheckboxChange(r)}),d(),Q(5,"span",2),d(),m(6,"p"),a(7,"Annually"),d()())},styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(36px);-ms-transform:translateX(36px);transform:translate(36px)}section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}']})};var L=class n{searchChange=P();onSearchUpdate(e){this.searchChange.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["list-search"]],outputs:{searchChange:"searchChange"},decls:6,vars:0,consts:[["searchbar",""],[1,"search-container"],["id","descriptionSearchInput","type","text","placeholder","Type any description",3,"input"],[1,"lens"]],template:function(t,i){if(t&1){let o=E();m(0,"section",1)(1,"input",2,0),w("input",function(){x(o);let l=X(2);return h(i.onSearchUpdate(l.value))}),d(),m(3,"section",3)(4,"p"),a(5,"\u{1F50D}"),d()()()}},styles:["input[_ngcontent-%COMP%]{height:100%;width:95%;border:none;text-align:center}p[_ngcontent-%COMP%]{height:100%;cursor:default}.lens[_ngcontent-%COMP%]{width:50px}.search-container[_ngcontent-%COMP%]:hover > .lens[_ngcontent-%COMP%]{background-color:#4a90e2}input[_ngcontent-%COMP%]:focus{outline:0}.search-container[_ngcontent-%COMP%]{display:flex;overflow:auto;width:100%;height:38px;border:1px solid #000;border-radius:6px;align-items:center;text-align:center}"]})};function ie(n,e){return this.titleTable}var oe=(n,e)=>e.id;function re(n,e){if(n&1&&(c(0,"th"),a(1),s()),n&2){let t=e.$implicit;p(),b(t)}}function se(n,e){if(n&1){let t=E();c(0,"tr")(1,"td"),a(2),s(),c(3,"td"),a(4),u(5,"currency"),s(),K(6,"td",7),u(7,"titlecase"),u(8,"category"),c(9,"td"),a(10),u(11,"date"),s(),c(12,"td")(13,"button",8),O("click",function(){let o=x(t).$implicit,r=f(3);return h(r.deleteExpense(o.id))}),a(14,"Delete"),s()()()}if(n&2){let t=e.$implicit;p(2),b(t.description),p(2),b(z(5,4,t.import,"EUR")),p(2),A("innerHTML",C(8,9,C(7,7,t.category)),B),p(4),b(C(11,11,t.date))}}function ae(n,e){if(n&1&&(c(0,"h2"),a(1),s(),c(2,"section",6)(3,"table")(4,"thead")(5,"tr"),k(6,re,2,1,"th",null,ie,!0),s()(),c(8,"tbody"),k(9,se,15,13,"tr",null,oe),s()()()),n&2){let t=e.$implicit,i=f(2),o=V(6);p(),b(t),p(5),v(i.titleTable),p(3),v(o[t])}}function ce(n,e){if(n&1){let t=E();c(0,"list-switch",4),O("checkboxChange",function(o){x(t);let r=f();return h(r.onCheckboxChange(o))}),s(),c(1,"list-search",5),O("searchChange",function(o){x(t);let r=f();return h(r.onSearchUpdate(o))}),s(),k(2,ae,11,1,null,null,U)}if(n&2){f();let t=V(8);p(2),v(t)}}function pe(n,e){n&1&&(c(0,"section",3)(1,"p"),a(2,"No expenses found. Click the button above to add your first expense."),s()())}var ne=class n{expenseService=j(ee);Object=Object;checkboxValue$=new T(!1);titleTable=["Description","Amount","Category","Date",""];expenses$;expensesKey$;searchQuery$=new T("");ngOnInit(){let e=this.expenseService.getItems(),t=D([this.searchQuery$,e]).pipe(y(([i,o])=>{let r=o,l=i.length!==0?o.filter(_=>_.description.includes(i)):o;return l.length===0?r:l}));this.expenses$=D([t,this.checkboxValue$.asObservable()]).pipe(y(([i,o])=>{let r={};for(let l=0;l<i.length;l++){let _=o?i[l].date.getFullYear().toString():i[l].date.toLocaleString("default",{month:"long"});r[_]||(r[_]=[]),r[_].push(i[l])}return r})),this.expensesKey$=this.expenses$.pipe(y(i=>{let o=Object.keys(i);return this.checkboxValue$.value?o.sort((r,l)=>parseInt(r)-parseInt(l)):o.sort()}))}deleteExpense(e){this.expenseService.deleteItem(e)}onCheckboxChange(e){this.checkboxValue$.next(e)}onSearchUpdate(e){this.searchQuery$.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["expense-list"]],decls:12,vars:7,consts:[[1,"expense-container"],[1,"add-button-container"],["routerLink","/add",1,"add-button"],[1,"no-expenses"],[3,"checkboxChange"],[3,"searchChange"],[1,"expense-list"],[3,"innerHTML"],[1,"delete-button",3,"click"]],template:function(t,i){if(t&1&&(c(0,"section",0)(1,"h2"),a(2,"Expense List"),s(),c(3,"section",1)(4,"a",2),a(5,"Add New Expense"),s()(),$(6),u(7,"async"),$(8),u(9,"async"),H(10,ce,4,0)(11,pe,3,0,"section",3),s()),t&2){p(6);let o=I(C(7,1,i.expenses$));p(2),I(C(9,4,i.expensesKey$)),p(2),R(o&&i.Object.keys(o).length>0?10:11)}},dependencies:[Z,q,S,L,Y,G,W,J,M],styles:[".expense-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;text-align:center}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.add-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#4a90e2;color:#fff;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#3a7bc8}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:30px;background-color:#f9f9f9;border-radius:8px;color:#666}.expense-list[_ngcontent-%COMP%]{border:solid 1px #000;border-radius:8px;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:0 2px 4px #0000001a}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700;color:#555}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.delete-button[_ngcontent-%COMP%]{padding:6px 12px;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};export{ne as ListComponent};
