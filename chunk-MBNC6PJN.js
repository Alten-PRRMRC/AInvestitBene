import{a as q,b as z,c as G}from"./chunk-E57FR55B.js";import{a as $}from"./chunk-YXCVHORK.js";import"./chunk-CHR6F4SW.js";import{$a as K,Kb as W,Lb as w,Na as L,Oa as B,Pa as P,Qa as N,R as x,Ra as h,Sa as v,Ta as F,Ua as s,Va as r,W as u,Wa as I,X as g,Xa as f,Ya as C,_a as E,ab as O,bb as A,cb as d,da as M,e as k,i as _,ib as l,jb as D,kb as H,lb as y,mb as j,nb as b,ra as a,rb as p,sb as m,za as S,zb as R}from"./chunk-QRMUB6RP.js";function X(n,t){if(n&1&&(f(0,"option",4),l(1),p(2,"titlecase"),C()),n&2){let e=t.$implicit;K("value",e),a(),H(" ",m(2,2,e)," ")}}var V=class n{_expenseService=x($);categoryValue=R();onCategoryChange(t){this.categoryValue.emit(t.target.value)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=S({type:n,selectors:[["category-selector"]],outputs:{categoryValue:"categoryValue"},decls:8,vars:0,consts:[[1,"flex","items-center","h-[21px]"],[1,"label-text"],[1,"select","pl-1","select-ghost","w-auto","focus:outline-none",3,"click"],["selected",""],[3,"value"]],template:function(e,i){if(e&1){let o=E();f(0,"section",0)(1,"span",1),l(2,"Total of"),C(),f(3,"select",2),A("click",function(T){return u(o),g(i.onCategoryChange(T))}),f(4,"option",3),l(5,"all"),C(),h(6,X,3,4,"option",4,N),C()()}if(e&2){let o=i._expenseService.categories;a(6),v(o)}},dependencies:[w],encapsulation:2})};function Y(n,t){if(n&1&&(s(0,"tr")(1,"td")(2,"b"),l(3),p(4,"titlecase"),r()(),s(5,"td"),I(6,"p",11),r(),I(7,"p"),r()),n&2){let e=t.$implicit;d(3);let i=b(3);a(3),D(m(4,2,e)),a(3),F("amountImport",i[e])}}function Z(n,t){if(n&1&&h(0,Y,8,4,"tr",null,P),n&2){d(2);let e=b(5);v(e)}}function ee(n,t){n&1&&(s(0,"tr")(1,"td")(2,"p",12),l(3,"No result found."),r()()())}function te(n,t){if(n&1){let e=E();s(0,"list-switch",3),O("checkboxChange",function(o){u(e);let c=d();return g(c.onCheckboxChange(o))}),r(),s(1,"section",4)(2,"fieldset",5)(3,"legend",6),l(4,"Stats"),r(),s(5,"div",7)(6,"table",8)(7,"thead")(8,"tr")(9,"th",9)(10,"category-selector",10),O("categoryValue",function(o){u(e);let c=d();return g(c.onCategoryChange(o))}),r()()()(),s(11,"tbody"),L(12,Z,2,0)(13,ee,4,0,"tr"),r()()()()()}if(n&2){d();let e=b(3),i=b(5);a(12),B(i!==null&&i.length>0&&e!==null?12:13)}}function ne(n,t){n&1&&(s(0,"section",2)(1,"p",13),l(2,"No expenses found. "),r()())}var J=class n{Object=Object;listService=x(G);expenseService=x($);subtitle=M("Expense List");expensesKey$=new k;expensesTotal$=new k;checkboxValue$=new _(!1);categoryValue$=new _("all");filterFn=(t,e)=>t==="all"?e:e.filter(i=>i.category===t);ngOnInit(){let t=this.expenseService.expenseList$,e=this.listService.getExpenses$(t,this.categoryValue$,this.checkboxValue$,this.filterFn),i=new _([]);e.subscribe(o=>{let c=[];Object.keys(o).forEach(T=>{c.push(...o[T])}),i.next(c)}),this.expensesKey$=this.listService.getExpensesKey$(i,this.checkboxValue$),this.expensesTotal$=this.listService.getExpensesTotalImport$(e)}onCheckboxChange(t){this.checkboxValue$.next(t)}onCategoryChange(t){this.categoryValue$.next(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=S({type:n,selectors:[["expense-stats"]],decls:11,vars:10,consts:[[1,"max-w-5xl","mx-auto","p-5"],[1,"text-2xl","font-bold","text-center","text-base-content","mb-5"],[1,"bg-info","text-center","p-8","rounded-lg","opacity-80"],[3,"checkboxChange"],[1,"overflow-x-auto"],[1,"rounded-box","border","p-4"],[1,"text-2xl","font-bold","text-base-content","mb-2"],[1,"bg-base-100","table","overflow-x-auto","rounded-box","border","border-base-content/20","w-full"],[1,"table"],["colspan","2",1,"text-base-content"],[3,"categoryValue"],["AppHighlightBig","",3,"amountImport"],[1,"font-bold"],[1,"text-info-content"]],template:function(e,i){if(e&1&&(s(0,"section",0)(1,"h2",1),l(2),r(),y(3),p(4,"async"),y(5),p(6,"async"),y(7),p(8,"async"),L(9,te,14,1)(10,ne,3,0,"section",2),r()),e&2){a(2),D(i.subtitle()),a(),j(m(4,2,i.expensesTotal$)),a(2),j(m(6,5,i.expensesKey$));let o=m(8,8,i.expenseService.expenseList$);a(4),B(o!==null&&o.length>0?9:10)}},dependencies:[q,z,V,W,w],styles:["tr[_ngcontent-%COMP%]:hover:not(thead tr){background-color:var(--color-base-300)}tr[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{width:50%}"]})};export{J as StatsComponent};
