import{a as G}from"./chunk-JJDN6CMU.js";import"./chunk-TK4L4AHK.js";import{Aa as q,B as f,E as I,L as D,M as F,N as V,O as b,P as g,Q as B,R as c,S as r,T as j,U as h,V as x,W as H,X as v,Y as P,Z as N,_ as u,aa as s,ba as d,d as L,da as w,ea as M,f as k,fa as O,g as S,ia as l,ja as m,ka as R,o as T,oa as A,p as y,q as E,ra as K,sa as X,ua as z,va as U,wa as Y,x as $,y as a}from"./chunk-APVCP6CX.js";var C=class n{transform(e){return e.toLocaleLowerCase()==="cryptocurrency"?`<b class="highlighted-category">${e}</b>`:e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=I({name:"category",type:n,pure:!0})};var _=class n{checkboxChange=A();onCheckboxChange(e){this.checkboxChange.emit(e.target.checked)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=f({type:n,selectors:[["list-switch"]],outputs:{checkboxChange:"checkboxChange"},decls:8,vars:0,consts:[[1,"switch"],["type","checkbox",3,"change"],[1,"slider","round"]],template:function(t,o){t&1&&(h(0,"section")(1,"p"),s(2,"Monthly"),x(),h(3,"label",0)(4,"input",1),N("change",function(p){return o.onCheckboxChange(p)}),x(),H(5,"span",2),x(),h(6,"p"),s(7,"Annually"),x()())},styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(36px);-ms-transform:translateX(36px);transform:translate(36px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}']})};function Z(n,e){return this.titleTable}var ee=(n,e)=>e.id;function te(n,e){if(n&1&&(c(0,"th"),s(1),r()),n&2){let t=e.$implicit;a(),d(t)}}function ne(n,e){if(n&1){let t=v();c(0,"tr")(1,"td"),s(2),r(),c(3,"td"),s(4),l(5,"currency"),r(),j(6,"td",6),l(7,"titlecase"),l(8,"category"),c(9,"td"),s(10),l(11,"date"),r(),c(12,"td")(13,"button",7),P("click",function(){let i=y(t).$implicit,p=u(3);return E(p.deleteExpense(i.id))}),s(14,"Delete"),r()()()}if(n&2){let t=e.$implicit;a(2),d(t.description),a(2),d(R(5,4,t.import,"EUR")),a(2),B("innerHTML",m(8,9,m(7,7,t.category)),$),a(4),d(m(11,11,t.data))}}function ie(n,e){if(n&1&&(c(0,"h2"),s(1),r(),c(2,"section",5)(3,"table")(4,"thead")(5,"tr"),b(6,te,2,1,"th",null,Z,!0),r()(),c(8,"tbody"),b(9,ne,15,13,"tr",null,ee),r()()()),n&2){let t=e.$implicit,o=u(2),i=O(6);a(),d(t),a(5),g(o.titleTable),a(3),g(i[t])}}function oe(n,e){if(n&1){let t=v();c(0,"list-switch",4),P("checkboxChange",function(i){y(t);let p=u();return E(p.onCheckboxChange(i))}),r(),b(1,ie,11,1,null,null,V)}if(n&2){u();let t=O(8);a(),g(t)}}function re(n,e){n&1&&(c(0,"section",3)(1,"p"),s(2,"No expenses found. Click the button above to add your first expense."),r()())}var Q=class n{checkboxValue$=new L(!1);expenseService=T(G);titleTable=["Description","Amount","Category","Date",""];expenses$;expensesKey$;ngOnInit(){this.expenses$=S([this.expenseService.getItems(),this.checkboxValue$.asObservable()]).pipe(k(([e,t])=>{let o={};for(let i=0;i<e.length;i++){let p=t?e[i].data.getFullYear().toString():e[i].data.toLocaleString("default",{month:"long"});o[p]||(o[p]=[]),o[p].push(e[i])}return o})),this.expensesKey$=this.expenses$.pipe(k(e=>{let t=Object.keys(e);return this.checkboxValue$.value?t.sort((o,i)=>parseInt(o)-parseInt(i)):t.sort()}))}deleteExpense(e){this.expenseService.deleteItem(e)}onCheckboxChange(e){this.checkboxValue$.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=f({type:n,selectors:[["expense-list"]],decls:12,vars:7,consts:[[1,"expense-container"],[1,"add-button-container"],["routerLink","/add",1,"add-button"],[1,"no-expenses"],[3,"checkboxChange"],[1,"expense-list"],[3,"innerHTML"],[1,"delete-button",3,"click"]],template:function(t,o){if(t&1&&(c(0,"section",0)(1,"h2"),s(2,"Expense List"),r(),c(3,"section",1)(4,"a",2),s(5,"Add New Expense"),r()(),w(6),l(7,"async"),w(8),l(9,"async"),D(10,oe,3,0)(11,re,3,0,"section",3),r()),t&2){a(6);let i=M(m(7,1,o.expenses$));a(2),M(m(9,4,o.expensesKey$)),a(2),F(i?10:11)}},dependencies:[Y,q,_,K,X,U,z,C],styles:[".expense-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;text-align:center}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.add-button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#4a90e2;color:#fff;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#3a7bc8}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:30px;background-color:#f9f9f9;border-radius:8px;color:#666}.expense-list[_ngcontent-%COMP%]{border:solid 1px #000;border-radius:8px;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:0 2px 4px #0000001a}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700;color:#555}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.delete-button[_ngcontent-%COMP%]{padding:6px 12px;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};export{Q as ListComponent};
