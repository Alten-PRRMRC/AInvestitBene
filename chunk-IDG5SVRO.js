import{a as te,b as ne,c as ie}from"./chunk-XQMACELB.js";import{a as ee}from"./chunk-3UN3RL46.js";import"./chunk-WIUYRXXV.js";import{e as Z}from"./chunk-O3BENMIO.js";import{Ab as z,Bb as G,Ca as N,Lb as Y,Mb as J,Na as D,Nb as W,Oa as V,Ob as X,Pa as H,Qa as A,R as P,Ra as y,Sa as S,Ta as d,Ua as o,Va as r,W as u,Wa as w,X as x,Xa as q,Y as j,Ya as K,Za as U,_a as f,ab as b,cb as _,e as F,gb as Q,i as v,jb as c,kb as C,mb as E,nb as L,ob as k,pa as M,qb as g,ra as a,rb as R,sb as l,tb as m,za as h}from"./chunk-E5YAWDRL.js";var I=class n{transform(t){return t.toLocaleLowerCase()==="cryptocurrency"?`<b class="badge badge-dash badge-warning bg-warning text-warning-content">${t}</b>`:t}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=N({name:"category",type:n,pure:!0})};var $=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=h({type:n,selectors:[["expense-list-icon-search"]],decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"h-[1em]","opacity-50"],["stroke-linejoin","round","stroke-linecap","round","stroke-width","2.5","fill","none","stroke","currentColor"],["cx","11","cy","11","r","8"],["d","m21 21-4.3-4.3"]],template:function(e,i){e&1&&(j(),q(0,"svg",0)(1,"g",1),U(2,"circle",2)(3,"path",3),K()())},encapsulation:2})};var T=class n{searchChange=z();caseSensitive=G(!0);onSearchUpdate(t){this.caseSensitive()?this.searchChange.emit(t):this.searchChange.emit(t.toLowerCase().replace(/\s/g,""))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=h({type:n,selectors:[["list-search"]],inputs:{caseSensitive:[1,"caseSensitive"]},outputs:{searchChange:"searchChange"},decls:5,vars:0,consts:[["searchbar",""],["for","searchbar",1,"flex","items-center","w-full","h-[38px]","overflow-hidden","border","rounded-md","text-center","group"],["type","text","placeholder","Type any description to filter","aria-label","Search input",1,"w-[95%]","h-full","border-none","text-center","focus:outline-none",3,"input"],[1,"w-[50px]","h-full","flex","items-center","justify-center","group-hover:bg-info","select-none"]],template:function(e,i){if(e&1){let s=f();o(0,"label",1)(1,"input",2,0),b("input",function(){u(s);let se=Q(2);return x(i.onSearchUpdate(se.value))}),r(),o(3,"p",3),w(4,"expense-list-icon-search"),r()()}},dependencies:[$],encapsulation:2})};var O=()=>["/add"],ae=()=>({isIncome:!0}),ce=()=>({isIncome:!1}),pe=n=>({id:n}),le=(n,t)=>t.id;function me(n,t){if(n&1){let e=f();o(0,"list-search",9),b("searchChange",function(s){u(e);let p=_(2);return x(p.onSearchUpdate(s))}),r()}n&2&&d("caseSensitive",!1)}function de(n,t){if(n&1&&(o(0,"th",14),c(1),r()),n&2){let e=t.$implicit;a(),C(e)}}function ue(n,t){if(n&1){let e=f();o(0,"tr")(1,"td",14),c(2),r(),w(3,"td",15)(4,"td",16),l(5,"titlecase"),l(6,"category"),o(7,"td",14),c(8),l(9,"date"),r(),o(10,"td")(11,"button",17),b("click",function(){let s=u(e).$implicit,p=_(3);return x(p.deleteExpense(s.id))}),c(12,"Delete"),r()(),o(13,"td")(14,"a",18),c(15,"Edit"),r()()()}if(n&2){let e=t.$implicit;a(2),C(e.description),a(),d("limitImport",500)("amountImport",e.import),a(),d("innerHTML",m(6,9,m(5,7,e.category)),M),a(4),C(m(9,11,e.date)),a(6),d("routerLink",g(13,O))("queryParams",R(14,pe,e.id))}}function xe(n,t){if(n&1&&(o(0,"section",8)(1,"fieldset",10)(2,"legend",11),c(3),l(4,"titlecase"),r(),o(5,"div",12)(6,"table",13)(7,"thead")(8,"tr"),y(9,de,2,1,"th",14,H),r()(),o(11,"tbody"),y(12,ue,16,16,"tr",null,le),r()()()()()),n&2){let e=t.$implicit,i=_(2),s=k(8);a(3),C(m(4,1,e)),a(6),S(i.titleTable),a(3),S(s[e])}}function he(n,t){if(n&1){let e=f();D(0,me,1,1,"list-search",6),o(1,"list-switch",7),b("checkboxChange",function(s){u(e);let p=_();return x(p.onCheckboxChange(s))}),r(),y(2,xe,14,3,"section",8,A)}if(n&2){_();let e=k(10),i=k(12);V(i!==null&&i.length>1?0:-1),a(2),S(e)}}function fe(n,t){n&1&&(o(0,"section",5)(1,"p",19),c(2,"No expenses found. Click the button above to add your first expense."),r()())}var oe=class n{listService=P(ie);expenseService=P(ee);Object=Object;titleTable=["Description","Amount","Category","Date","",""];expenses$=new F;expensesKey$=new F;searchQuery$=new v("");checkboxValue$=new v(!1);filterFn=(t,e)=>{if(t.length===0)return e;let i=e.filter(s=>s.description.toLowerCase().replace(/\s/g,"").includes(t));return i.length===0?e:i};ngOnInit(){let t=this.expenseService.expenseList$;this.expenses$=this.listService.getExpenses$(t,this.searchQuery$,this.checkboxValue$,this.filterFn);let e=new v([]);this.expenses$.subscribe(i=>{let s=[];Object.keys(i).forEach(p=>{s.push(...i[p])}),e.next(s)}),this.expensesKey$=this.listService.getExpensesKey$(e,this.checkboxValue$)}deleteExpense(t){this.expenseService.deleteItem(t)}onCheckboxChange(t){this.checkboxValue$.next(t)}onSearchUpdate(t){this.searchQuery$.next(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=h({type:n,selectors:[["expense-list"]],decls:16,vars:18,consts:[[1,"max-w-5xl","mx-auto","p-5"],[1,"text-2xl","font-bold","text-center","text-base-content","mb-5"],[1,"flex","justify-end","mb-5","space-x-2"],[1,"btn","btn-secondary",3,"routerLink","queryParams"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"bg-info","text-center","p-8","rounded-lg","opacity-80"],[3,"caseSensitive"],[3,"checkboxChange"],[1,"overflow-x-auto"],[3,"searchChange","caseSensitive"],[1,"rounded-box","border","p-4"],[1,"text-2xl","font-bold","text-base-content","mb-2"],[1,"bg-base-100","table","shadow","w-full","overflow-x-auto","rounded-box","border","border-base-content/20"],[1,"table"],[1,"text-base-content"],["AppHighlightBig","",1,"text-base-content",3,"limitImport","amountImport"],[1,"text-base-content",3,"innerHTML"],[1,"btn","btn-error","btn-sm","text-error-content","w-[60px]",3,"click"],[1,"btn","btn-info","btn-sm","text-info-content","w-[60px]",3,"routerLink","queryParams"],[1,"text-info-content"]],template:function(e,i){if(e&1&&(o(0,"section",0)(1,"h2",1),c(2,"Your list"),r(),o(3,"section",2)(4,"a",3),c(5,"Add new income"),r(),o(6,"a",4),c(7,"Add new expense"),r()(),E(8),l(9,"async"),E(10),l(11,"async"),E(12),l(13,"async"),D(14,he,4,1)(15,fe,3,0,"section",5),r()),e&2){a(4),d("routerLink",g(14,O))("queryParams",g(15,ae)),a(2),d("routerLink",g(16,O))("queryParams",g(17,ce)),a(2);let s=L(m(9,5,i.expenses$));a(2),L(m(11,8,i.expensesKey$)),a(2),L(m(13,11,i.expenseService.expenseList$)),a(2),V(s!==null&&i.Object.keys(s).length>0?14:15)}},dependencies:[X,Z,te,T,ne,Y,J,W,I],styles:["tr[_ngcontent-%COMP%]:hover:not(thead tr){background-color:var(--color-base-300)}th[_ngcontent-%COMP%]{width:25%}"]})};export{oe as ListComponent};
