import{a as c}from"./chunk-AQQCPTA3.js";import{M as n,Q as a,i as r}from"./chunk-HRZCEDQ4.js";var p=class i{constructor(e){this.localStorageService=e;let s=this.localStorageService.getItem(this.STORAGE_KEY)||[];this.expenseList$=new r(s)}STORAGE_KEY="expenses";expenseList$;ngOnDestroy(){this.expenseList$.complete()}addItem(e){let t=[...this.expenseList$.getValue(),e];this.expenseList$.next(t),this.saveToLocalStorage(t)}getItems(){return this.expenseList$}updateItem(e){let t=this.expenseList$.getValue().flatMap(o=>o.id===e.id?e:o);this.expenseList$.next(t),this.saveToLocalStorage(t)}deleteItem(e){let t=this.expenseList$.getValue().filter(o=>o.id!==e);this.expenseList$.next(t),this.saveToLocalStorage(t)}saveToLocalStorage(e){this.localStorageService.setItem(this.STORAGE_KEY,e)}static \u0275fac=function(s){return new(s||i)(a(c))};static \u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"})};export{p as a};
